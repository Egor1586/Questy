{% extends "base.html" %}

{% block title %}
    New quiz
{% endblock %}

{% block links %}
    <link rel="stylesheet" href="{{ url_for('test_app.static', filename= 'css/edit_test.css') }}">
{% endblock %}

{% block content %}
    <div class="container">
        <div class="test-header">
            <div class="test-details">
                <div class="test-title">Test Title: {{ test.title }}</div>
                <div class="test-description">Description: {{ test.description }}</div>
                <div class="meta-info">Number of total questions: {{ test.total_questions }} </div>
                <div class="meta-info">Number of answers per question: {{ test.answers_per_question }} </div>
            </div>
            <button class="edit-btn">
                <a href="/edit_header_test{{ test.id }}">Edit</a>
            </button>
        </div>

        {% for question in list_quiz %}
            {% set answers = list_answers[loop.index0] %}
            <div class="question-block">
                <div class="question-header">
                <div>{{ question.question_text }}</div>
                <button class="edit-btn">
                    <a href="/edit_question{{ question.id }}">Edit</a>
                </button>
                </div>
                <div class="question-text">
                    Choose the correct option from the ones below.
                </div>
                {% for answer in answers %}
                    {% if answer != question.correct_answer %}
                        <div class="answer incorrect">✗ {{answer}}</div>                 
                        
                    {% else %}
                        <div class="answer correct">✓ {{ answer }}</div>
                    {% endif %}
                {% endfor %}
            </div>
        {% endfor %}

    </div>
{% endblock %}